<div class="login-box">
  <div class="login-form content p-l-40 p-r-40 pt-0">
    <mat-card class="support-card">
      <mat-card-content>
        <div class="container-fluid">
          <div class="row">
            <div class="col-md-12">
              <h3>{{modulename}}</h3>
              <form class="form-horizontal common-form" [formGroup]="SubscriberFormGroup">
                <div class="row subscriber-form" *ngIf="!isShowPayment">
                  <div class="col-lg-12">
                    <h4>Company Details</h4>
                  </div>
                  <div class="col-sm-6">
                    <div class="form-field">
                      <label>Company Name<span class="required">*</span></label>
                      <div class="input-field">
                        <mat-form-field>
                          <input type="text" matInput placeholder="Company Name" autocomplete="off"
                                 formControlName="companyName">
                          <mat-icon *ngIf="SubscriberFormGroup.controls.companyName?.errors && !SubscriberFormGroup.controls.companyName?.errors?.required"
                                    class="custom-error-icon" matTooltipHideDelay="1500"
                                    [matTooltip]="SubscriberFormGroup.controls.companyName.errors?.name?.message">
                            info
                          </mat-icon>
                          <mat-error *ngIf="SubscriberFormGroup.controls.companyName.errors && SubscriberFormGroup.controls.companyName?.errors?.required">
                            <span>
                              {{SubscriberFormGroup.controls.companyName.errors?.required?.message}}
                            </span>
                          </mat-error>
                          <mat-error *ngIf="SubscriberFormGroup.controls.companyName.errors && SubscriberFormGroup.controls.companyName?.errors?.maxLength">
                            <span>
                              {{SubscriberFormGroup.controls.companyName.errors?.maxLength?.message}}
                            </span>
                          </mat-error>
                        </mat-form-field>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-2">
                    <div class="row">
                      <div class="col-md-12">
                        <label>Country Code<span class="required">*</span></label>
                        <div class="select-field contact-select-field">
                          <!--<div class="select-field contact-select-field d-flex">-->
                          <mat-form-field>
                            <input type="text" matInput placeholder="Enter country code" formControlName="ccode">
                            <mat-icon *ngIf="SubscriberFormGroup.controls.ccode.errors?.ccode" class="custom-error-icon"
                              matTooltipHideDelay="1500"
                              [matTooltip]="SubscriberFormGroup.controls.ccode.errors?.ccode?.message">info</mat-icon>
                            <!--<mat-icon *ngIf="f.companyPhone.errors?.maxLength" class="custom-error-icon" matTooltipHideDelay="1500" matTooltip=" You have reached the maximum character limit for this field.">info</mat-icon>
                                <mat-icon *ngIf="f.companyPhone.errors?.minLength" class="custom-error-icon" matTooltipHideDelay="1500" matTooltip=" Invalid Phone Number.">info</mat-icon>-->
                            <mat-error
                              *ngIf="SubscriberFormGroup.controls.ccode.errors && SubscriberFormGroup.controls.ccode?.errors?.required">
                              <span>
                                {{SubscriberFormGroup.controls.ccode.errors?.required?.message}}</span>
                            </mat-error>
                            <mat-error
                              *ngIf="SubscriberFormGroup.controls.ccode.errors && SubscriberFormGroup.controls.ccode?.errors?.maxLength">
                              <span>
                                {{SubscriberFormGroup.controls.ccode.errors?.maxLength?.message}}</span>
                            </mat-error>
                          </mat-form-field>

                          <!--</div>-->
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="row">
                      <div class="col-md-12">
                        <label>Contact<span class="required">*</span></label>
                        <div class="select-field contact-select-field">
                          <!--<div class="select-field contact-select-field d-flex">-->
                          <mat-form-field>
                            <input type="text" matInput placeholder="Enter Contact Number"
                              formControlName="phoneNumber">
                            <mat-icon *ngIf="SubscriberFormGroup.controls.phoneNumber.errors?.phoneNumber"
                              class="custom-error-icon" matTooltipHideDelay="1500"
                              [matTooltip]="SubscriberFormGroup.controls.phoneNumber.errors?.phoneNumber?.message">info
                            </mat-icon>
                            <!--<mat-icon *ngIf="f.companyPhone.errors?.maxLength" class="custom-error-icon" matTooltipHideDelay="1500" matTooltip=" You have reached the maximum character limit for this field.">info</mat-icon>
                                <mat-icon *ngIf="f.companyPhone.errors?.minLength" class="custom-error-icon" matTooltipHideDelay="1500" matTooltip=" Invalid Phone Number.">info</mat-icon>-->
                            <mat-error
                              *ngIf="SubscriberFormGroup.controls.phoneNumber.errors && SubscriberFormGroup.controls.phoneNumber?.errors?.required">
                              <span>
                                {{SubscriberFormGroup.controls.phoneNumber.errors?.required?.message}}</span>
                            </mat-error>
                            <mat-error
                              *ngIf="SubscriberFormGroup.controls.phoneNumber.errors && SubscriberFormGroup.controls.phoneNumber?.errors?.minLength">
                              <span>
                                {{SubscriberFormGroup.controls.phoneNumber.errors?.minLength?.message}}</span>
                            </mat-error>
                            <mat-error
                              *ngIf="SubscriberFormGroup.controls.phoneNumber.errors && SubscriberFormGroup.controls.phoneNumber?.errors?.maxLength">
                              <span>
                                {{SubscriberFormGroup.controls.phoneNumber.errors?.maxLength?.message}}</span>
                            </mat-error>
                          </mat-form-field>

                          <!--</div>-->
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <div class="form-field">
                      <label>Address<span class="required">*</span></label>
                      <div class="input-field">
                        <mat-form-field>
                          <input type="text" matInput placeholder="Address" autocomplete="off"
                                 formControlName="address">
                          <mat-error *ngIf="SubscriberFormGroup.controls.address.errors">
                            <span>{{SubscriberFormGroup.controls.address.errors?.required?.message}}</span>
                          </mat-error>
                        </mat-form-field>
                        <mat-error *ngIf="SubscriberFormGroup.controls.address.errors && SubscriberFormGroup.controls.address?.errors?.maxLength">
                          <span>
                            {{SubscriberFormGroup.controls.address.errors?.maxLength?.message}}
                          </span>
                        </mat-error>
                      </div>
                    </div>
                  </div>

                  <div class="col-sm-6">
                    <label>Country<span class="required">*</span>
                    </label>
                    <mat-form-field>
                      <mat-select (selectionChange)="changeCountry($event)" placeholder="Country"
                        formControlName="countryName">
                        <mat-option>-- Select Any --</mat-option>
                        <mat-option *ngFor="let item of countryList" [value]="item.countryId">
                          {{item.countryName}}
                        </mat-option>
                      </mat-select>
                      <mat-error *ngIf="SubscriberFormGroup.controls.countryName.errors">
                        <span>{{SubscriberFormGroup.controls.countryName.errors?.required?.message}}</span>
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-sm-6">
                    <label>State<span class="required">*</span>
                    </label>
                    <mat-form-field>
                      <mat-select placeholder="State" formControlName="stateName">
                        <mat-option>-- Select Any --</mat-option>
                        <mat-option *ngFor="let item of stateList" [value]="item.stateId">
                          {{item.stateName}}
                        </mat-option>
                      </mat-select>
                      <mat-error *ngIf="SubscriberFormGroup.controls.stateName.errors">
                        <span>{{SubscriberFormGroup.controls.stateName.errors?.required?.message}}</span>
                      </mat-error>
                    </mat-form-field>
                  </div>

                  <div class="col-sm-6">
                    <label>City<span class="required">*</span>
                    </label>
                    <mat-form-field>
                      <input type="text" matInput formControlName="cityName" placeholder="City Name" autocomplete="off"
                             maxlength="50">
                      <mat-icon *ngIf="SubscriberFormGroup.controls.cityName?.errors && !SubscriberFormGroup.controls.cityName?.errors?.required"
                                class="custom-error-icon" matTooltipHideDelay="1500"
                                [matTooltip]="SubscriberFormGroup.controls.cityName.errors?.name?.message">
                        info
                      </mat-icon>
                      <mat-error *ngIf="SubscriberFormGroup.controls.cityName.errors && SubscriberFormGroup.controls.cityName?.errors?.required">
                        <span>
                          {{SubscriberFormGroup.controls.cityName.errors?.required?.message}}
                        </span>
                      </mat-error>
                      <mat-error *ngIf="SubscriberFormGroup.controls.cityName.errors && SubscriberFormGroup.controls.cityName?.errors?.maxLength">
                        <span>
                          {{SubscriberFormGroup.controls.cityName.errors?.maxLength?.message}}
                        </span>
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-sm-6">
                    <div class="form-field">
                      <label>Time Zone<span class="required">*</span></label>
                      <div class="select-field">
                        <mat-form-field>
                          <mat-select placeholder="Time Zone" formControlName="timezoneId">
                            <mat-option>-- Select Any --</mat-option>
                            <mat-option *ngFor="let item of timezoneList" [value]="item.timeZoneGuid">
                              {{item.name}}
                            </mat-option>
                          </mat-select>
                          <mat-error *ngIf="SubscriberFormGroup.controls.timezoneId.errors">
                            <span>{{SubscriberFormGroup.controls.timezoneId.errors?.required?.message}}</span>
                          </mat-error>
                        </mat-form-field>
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <label>Postal Code<span class="required">*</span>
                    </label>
                    <mat-form-field>
                      <input type="text" matInput placeholder="Postal Code" autocomplete="off"
                             formControlName="postalCode">
                      <mat-icon *ngIf="SubscriberFormGroup.controls.postalCode?.errors && !SubscriberFormGroup.controls.postalCode?.errors?.required"
                                class="custom-error-icon" matTooltipHideDelay="1500"
                                [matTooltip]="SubscriberFormGroup.controls.postalCode.errors?.companyPostalCode?.message">
                        info
                      </mat-icon>
                      <mat-error *ngIf="SubscriberFormGroup.controls.postalCode.errors && SubscriberFormGroup.controls.postalCode?.errors?.required">
                        <span>
                          {{SubscriberFormGroup.controls.postalCode.errors?.required?.message}}
                        </span>
                      </mat-error>
                      <mat-error *ngIf="SubscriberFormGroup.controls.postalCode.errors && SubscriberFormGroup.controls.postalCode?.errors?.maxLength">
                        <span>
                          {{SubscriberFormGroup.controls.postalCode.errors?.maxLength?.message}}
                        </span>
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-lg-12">
                    <h4>Contact Person Details</h4>
                  </div>

                  <div class="col-sm-6">
                    <div class="form-field">
                      <label>First Name<span class="required">*</span></label>
                      <div class="input-field">
                        <mat-form-field>
                          <input type="text" matInput placeholder="First Name" autocomplete="off"
                                 formControlName="firstName" />
                          <mat-icon *ngIf="SubscriberFormGroup.controls.firstName?.errors && !SubscriberFormGroup.controls.firstName?.errors?.required"
                                    class="custom-error-icon" matTooltipHideDelay="1500"
                                    [matTooltip]="SubscriberFormGroup.controls.firstName.errors?.name?.message">
                            info
                          </mat-icon>
                          <mat-error *ngIf="SubscriberFormGroup.controls.firstName.errors && SubscriberFormGroup.controls.firstName?.errors?.required">
                            <span>
                              {{SubscriberFormGroup.controls.firstName.errors?.required?.message}}
                            </span>
                          </mat-error>
                          <mat-error *ngIf="SubscriberFormGroup.controls.firstName.errors && SubscriberFormGroup.controls.firstName?.errors?.maxLength">
                            <span>
                              {{SubscriberFormGroup.controls.firstName.errors?.maxLength?.message}}
                            </span>
                          </mat-error>
                        </mat-form-field>
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <div class="form-field">
                      <label>Last Name<span class="required">*</span></label>
                      <div class="input-field">
                        <mat-form-field>
                          <input type="text" matInput placeholder="Last Name" autocomplete="off"
                                 formControlName="lastName" />
                          <mat-icon *ngIf="SubscriberFormGroup.controls.lastName?.errors && !SubscriberFormGroup.controls.lastName?.errors?.required"
                                    class="custom-error-icon" matTooltipHideDelay="1500"
                                    [matTooltip]="SubscriberFormGroup.controls.lastName.errors?.name?.message">
                            info
                          </mat-icon>
                          <mat-error *ngIf="SubscriberFormGroup.controls.lastName.errors && SubscriberFormGroup.controls.lastName?.errors?.required">
                            <span>
                              {{SubscriberFormGroup.controls.lastName.errors?.required?.message}}
                            </span>
                          </mat-error>
                          <mat-error *ngIf="SubscriberFormGroup.controls.lastName.errors && SubscriberFormGroup.controls.lastName?.errors?.maxLength">
                            <span>
                              {{SubscriberFormGroup.controls.lastName.errors?.maxLength?.message}}
                            </span>
                          </mat-error>
                        </mat-form-field>
                      </div>
                    </div>
                  </div>
                  <!-- <div class="col-sm-6">
                    <div class="form-field">
                      <label>Contact Number: <span class="required">*</span></label>
                      <div class="input-field">
                        <mat-form-field>
                          <input type="text" matInput placeholder="Enter Contact Number" autocomplete="off"
                            formControlName="Enter Contact Number" maxlength="50" />
                        </mat-form-field>
                      </div>
                    </div>
                  </div> -->

                  <div class="col-sm-6">
                    <div class="form-field">
                      <label>Email<span class="required">*</span></label>
                      <div class="input-field">
                        <mat-form-field>
                          <input type="text" matInput placeholder="Email" autocomplete="off" formControlName="email" />
                          <mat-icon *ngIf="SubscriberFormGroup.controls.email.errors?.email" class="custom-error-icon"
                                    matTooltipHideDelay="1500"
                                    [matTooltip]="SubscriberFormGroup.controls.email.errors?.email?.message">info</mat-icon>
                          <mat-error *ngIf="SubscriberFormGroup.controls.email.errors && SubscriberFormGroup.controls.email?.errors?.required">
                            <span>
                              {{SubscriberFormGroup.controls.email.errors?.required?.message}}
                            </span>
                          </mat-error>
                          <mat-error *ngIf="SubscriberFormGroup.controls.email.errors && SubscriberFormGroup.controls.email?.errors?.maxLength">
                            <span>
                              {{SubscriberFormGroup.controls.email.errors?.maxLength?.message}}
                            </span>
                          </mat-error>
                        </mat-form-field>
                      </div>
                    </div>
                  </div>


                  <div class="col-sm-6">
                    <div class="form-field">
                      <label>Password<span class="required">*</span></label>
                      <div class="input-field">
                        <mat-form-field>
                          <input [type]="'password'" matInput placeholder="password" autocomplete="off"
                                 formControlName="password" />
                          <mat-icon *ngIf="SubscriberFormGroup.controls.password.errors?.password"
                                    class="custom-error-icon" matTooltipHideDelay="1500"
                                    [matTooltip]="SubscriberFormGroup.controls.password.errors?.password?.message">
                            info
                          </mat-icon>
                          <mat-error *ngIf="SubscriberFormGroup.controls.password.errors && SubscriberFormGroup.controls.password?.errors?.required">
                            <span>
                              {{SubscriberFormGroup.controls.password.errors?.required?.message}}
                            </span>
                          </mat-error>
                          <mat-error *ngIf="SubscriberFormGroup.controls.password.errors && SubscriberFormGroup.controls.password?.errors?.maxLength">
                            <span>
                              {{SubscriberFormGroup.controls.password.errors?.maxLength?.message}}
                            </span>
                          </mat-error>
                        </mat-form-field>
                      </div>
                    </div>
                  </div>

                </div>

                <div class="payment-form row" *ngIf="isSubmitted && isShowPayment">
                  <app-purchase-plan></app-purchase-plan>
                </div>

                <div class="row mt-3 mb-0">
                  <div class="col-lg-12">
                    <div class="form-field mb-0">
                      <div class="input-field ">
                        <button mat-flat-button *ngIf="isShowPayment" color="primary" (click)="goBack()"
                          class="text-white" [disabled]="isFormSubmittedSuccessfully" title="Back">
                          Back
                        </button>
                        <button mat-flat-button color="primary" (click)="doPayment()" class="text-white"
                          [disabled]="isFormSubmittedSuccessfully" title="next">
                          {{ (!isShowPayment) ? "Next" : "Confirm"}}
                        </button>

                        <button mat-flat-button color="primary" routerLink="/" class="text-white m-l-10"
                          title="Cancel">Cancel</button>
                      </div>
                    </div>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>
